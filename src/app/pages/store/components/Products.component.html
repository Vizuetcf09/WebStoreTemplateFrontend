@for (product of products; track product.id){
<div class="flex-grow flex flex-col lg:flex-row items-center gap-12 lg:gap-20 px-6 md:px-12 lg:px-20 pb-16 pt-6">
  <!-- Products image -->
  <div class="w-full lg:w-1/2 flex justify-center">
    <div class="bg-white rounded-3xl shadow-md flex items-center justify-center w-full max-w-2xl p-8">
      <img [src]="product.imageUrl" [alt]="product.name"
        class="max-h-[520px] w-full object-contain drop-shadow-xl transition-transform duration-300 hover:scale-[1.01]">
    </div>
  </div>

  <!-- Products details -->
  <div class="w-full lg:w-1/2 space-y-6">
    <div class="space-y-3">
      <h1 class="text-4xl md:text-6xl font-black text-brand-dark tracking-tight">
        {{ product.name }}
      </h1>
      <p class="text-lg text-gray-600 leading-relaxed max-w-2xl">
        {{ product.description }}
      </p>
    </div>

    <p class="text-3xl md:text-4xl font-black text-brand-dark">
      {{ product.price | currency }}
    </p>

    <ul class="space-y-4 text-brand-dark">
      <li class="flex items-center gap-4">
        <span class="text-lg font-semibold">{{ product.category }}</span>
      </li>
    </ul>

    <button (click)="onPurchase(product)" [disabled]="isPaying()" [class.opacity-50]="isPaying()"
      [class.cursor-not-allowed]="isPaying()"
      class="bg-brand-green text-brand-dark font-bold text-lg px-10 py-4 rounded-full shadow-md hover:scale-105 transition-all w-full sm:w-auto">

      @if (isPaying()) {
      <span>Processing...</span>
      } @else {
      <span>Purchase</span>
      }

    </button>
  </div>

</div>
} @empty {
<div class="flex justify-center items-center h-64">
  <p class="text-gray-500 text-xl animate-pulse">Buscando productos en la tienda...</p>
</div>
}